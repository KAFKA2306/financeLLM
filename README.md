# financeLLM - 企業情報分析支援システム

## プロジェクトの目的

本プロジェクトは、企業の統合報告書や財務文書から効率的に情報を抽出し、複雑な質問に対する高精度な回答を生成するための先進的な情報分析システムです。企業の開示情報から隠れた洞察を引き出し、意思決定支援を目指しています。

## システム構成要素と役割

### 主要スクリプト詳細

1. `vector.py`
   - **目的**: 文書のベクトル化処理
   - **主な機能**:
     - PDFからテキストを抽出
     - テキストを意味的なチャンクに分割
     - マルチリンガル対応の埋め込みモデルで文書をベクトル表現に変換
     - FAISSベクトルストアの作成

2. `rag.py` / `ragout.py`
   - **目的**: 検索拡張生成（Retrieval-Augmented Generation）
   - **主な機能**:
     - クエリに対する関連文書の検索
     - コンテキストを考慮した回答生成
     - 複数のLLM（Llama, Qwen）での回答生成

3. `evaluation.py`
   - **目的**: 生成された回答の包括的な評価
   - **主な機能**:
     - 回答の品質評価
     - スコアリングシステム
     - モデル間の性能比較
     - 詳細な評価レポート生成

4. `chat.py`
   - **目的**: インタラクティブな対話インターフェース
   - **主な機能**:
     - ユーザーとLLMの対話
     - モデル選択
     - エラーハンドリング

## 技術的アプローチ

### ベクトル化プロセス
1. PDFからテキスト抽出
2. テキストの分割（チャンクサイズ: 1000文字、オーバーラップ: 100文字）
3. multilingual-e5-largeモデルによる埋め込み
4. FAISSベクターストアへの保存

### クエリ処理フロー
1. ユーザークエリの受信
2. ベクターストアからの関連文書検索
3. コンテキストを含むプロンプト生成
4. LLMによる回答生成
5. 回答の評価と保存



## インストール

```bash
git clone https://github.com/KAFKA2306/financeLLM.git
cd financeLLM
pip install -r requirements.txt
```

## 実行手順

1. ベクトル化
```bash
python vector.py
```

2. RAGシステム実行
```bash
python ragout.py
```

3. 評価
```bash
python evaluation.py
```

## プロジェクト構造

```
financeLLM/
├── data/               # 入力データ
│   ├── documents/      # 分析対象のPDF
│   └── query.csv       # クエリファイル
├── output/             # 処理結果
│   ├── logs/           # 実行ログ
│   ├── results/        # 分析結果
│   └── vector_store/   # ベクトルデータ
└── py/                 # スクリプト
```

## 注意事項

- APIキーは`secret/config.py`に保存